(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9814:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return ee}});var n=t(5893),s=t(7294);var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light",r=(0,s.useState)(e),t=r[0],n=r[1];function a(e){n("dark"===e?"dark":"light")}return{theme:t,setTheme:a}},c=(0,s.createContext)();function i(e){var r=e.children,t=e.startingTheme,s=a(t),i=s.theme,o=s.setTheme;return(0,n.jsx)(c.Provider,{value:{setTheme:o,theme:i},children:r})}var o=function(){var e=(0,s.useContext)(c).theme;return(0,n.jsx)("div",{className:"padT4 padB4",children:(0,n.jsx)("div",{className:"container mobile-container",children:(0,n.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,n.jsx)("div",{children:(0,n.jsx)("img",{alt:"SVCC Home Page",src:"/images/SVCCLogo.png"})}),(0,n.jsx)("div",{className:"light",children:(0,n.jsx)("h4",{className:"header-title",children:"Silicon Valley Code Camp"})}),(0,n.jsxs)("div",{className:"light"===e?"":"text-info",children:["Hello Mr. Smith \xa0\xa0",(0,n.jsx)("span",{children:(0,n.jsx)("a",{href:"#",children:"sign-out"})})]})]})})})};var l=function(e,r){var t=(0,s.useState)(e),n=t[0],a=t[1],c=(0,s.useState)(r),i=c[0],o=c[1],l=(0,s.useState)("");return{showSessions:n,setShowSessions:a,eventYear:i,setEventYear:o,searchQuery:l[0],setSearchQuery:l[1],EVENT_YEARS:["2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"]}},d=(0,s.createContext)();function u(e){var r=e.children,t=e.startingShowSessions,s=void 0!==t&&t,a=e.startingEventYear,c=l(s,void 0===a?"2019":a),i=c.showSessions,o=c.setShowSessions,u=c.eventYear,h=c.setEventYear,f=c.searchQuery,x=c.setSearchQuery,p=c.EVENT_YEARS;return(0,n.jsx)(d.Provider,{value:{showSessions:i,setShowSessions:o,eventYear:u,setEventYear:h,searchQuery:f,setSearchQuery:x,EVENT_YEARS:p},children:r})}var h=function(){var e=(0,s.useContext)(c),r=e.theme,t=e.setTheme,a=(0,s.useContext)(d),i=a.showSessions,o=a.setShowSessions,l=a.eventYear,u=a.setEventYear,h=a.setSearchQuery,f=a.EVENT_YEARS;return(0,n.jsx)("section",{className:"toolbar dark-theme-header",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsx)("div",{className:"justify-content-between",children:(0,n.jsxs)("ul",{className:"toolrow d-flex flex-column flex-lg-row",children:[(0,n.jsxs)("li",{className:"d-flex flex-column flex-md-row",children:[(0,n.jsx)("b",{children:"Show Sessions\xa0\xa0"}),(0,n.jsxs)("label",{className:"fav",children:[(0,n.jsx)("input",{type:"checkbox",checked:i,onChange:function(e){o(e.target.checked)}}),(0,n.jsx)("span",{className:"switch"})]})]}),(0,n.jsxs)("li",{className:"d-flex flex-column flex-md-row ml-sm-5 ml-0",children:[(0,n.jsx)("strong",{children:"Theme"}),(0,n.jsx)("label",{className:"dropdown",children:(0,n.jsxs)("select",{className:"form-control theme",value:r,onChange:function(e){t(e.target.value)},children:[(0,n.jsx)("option",{value:"light",children:"Light"}),(0,n.jsx)("option",{value:"dark",children:"Dark"})]})})]}),(0,n.jsx)("li",{children:(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("input",{type:"text",className:"form-control",placeholder:"Search...",onChange:function(e){h(e.target.value)}}),(0,n.jsx)("div",{className:"input-group-append",children:(0,n.jsx)("button",{className:"btn btn-secondary",type:"button",children:(0,n.jsx)("i",{className:"fa fa-search"})})})]})}),(0,n.jsxs)("li",{className:"d-flex flex-column flex-md-row",children:[(0,n.jsx)("strong",{children:"Year"}),(0,n.jsx)("label",{className:"dropmenu",children:(0,n.jsx)("select",{className:"form-control",value:l,onChange:function(e){var r=e.currentTarget;u(r.value)},children:f.map((function(e){return(0,n.jsx)("option",{value:e,children:e},e)}))})})]})]})})})})},f=t(7375),x=t(6156),p=(0,s.createContext)();function v(e){var r=e.children,t=e.speaker,s=e.updateRecord,a=e.insertRecord,c=e.deleteRecord;return(0,n.jsx)(p.Provider,{value:{speaker:t,updateRecord:s,insertRecord:a,deleteRecord:c},children:r})}var m=function(){var e=(0,s.useContext)(p),r=e.speaker,t=e.deleteRecord;return(0,n.jsxs)("span",{className:"session w-100",children:[(0,n.jsx)("a",{href:"#",className:"remSes",children:(0,n.jsx)("i",{onClick:function(e){e.preventDefault(),window.confirm("Are you sure you want to delete this speaker?")&&t(r)},children:"-"})}),(0,n.jsx)("span",{className:"padL2",children:"Delete Speaker"})]})},j=t(6610),g=t(5991),w=t(5255),N=t(3724),S=t(7608);function y(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=(0,S.Z)(e);if(r){var s=(0,S.Z)(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return(0,N.Z)(this,t)}}var k=function(e){(0,w.Z)(t,e);var r=y(t);function t(e){var n;return(0,j.Z)(this,t),(n=r.call(this,e)).state={hasError:!1},n}return(0,g.Z)(t,[{key:"componentDidCatch",value:function(e,r){}},{key:"render",value:function(){return console.log("ERRORBOUNDARY render"),this.state.hasError?this.props.errorUI?this.props.errorUI:(0,n.jsx)("div",{children:"Something went wrong"}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.log("ErrorBoundary:getDerivedStateFromError"),{hasError:!0}}}]),t}(s.Component);function R(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?R(Object(t),!0).forEach((function(r){(0,x.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function C(e){var r=e.title,t=e.room;return(0,n.jsxs)("span",{className:"session w-100",children:[r," ",(0,n.jsxs)("strong",{children:["Room: ",t.name]})]})}function E(){var e=(0,s.useContext)(d).eventYear,r=(0,s.useContext)(p).speaker.sessions;return(0,n.jsx)("div",{className:"sessionBox card h-250",children:r.filter((function(r){return r.eventYear===e})).map((function(e){return(0,n.jsx)("div",{className:"session w-100",children:(0,n.jsx)(C,b({},e))},e.id)}))})}function O(e){var r=e.src,t=(0,f.Z)(e,["src"]),a=(0,s.useState)(!1),c=a[0],i=a[1],o=(0,s.useState)(r),l=o[0],d=o[1];return(0,n.jsx)("img",b(b({src:l},t),{},{onError:function(){c||(d("/images/speaker-99999.jpg"),i(!0))}}))}function Y(){var e=(0,s.useContext)(p).speaker,r=e.id,t=e.first,a=e.last;return(0,n.jsx)("div",{className:"speaker-img d-flex flex-row justify-content-center align-items-center h-300",children:(0,n.jsx)(O,{className:"contain-fit",src:"/images/speaker-".concat(r,".jpg"),width:"300",alt:"".concat(t," ").concat(a)})})}function T(){var e=(0,s.useContext)(p),r=e.speaker,t=e.updateRecord,a=(0,s.useState)(!1),c=a[0],i=a[1];function o(){i(!1),console.log("In SpeakerFavorite:doneCallback    ".concat((new Date).getMilliseconds()))}return(0,n.jsx)("div",{className:"action padB1",children:(0,n.jsxs)("span",{onClick:function(){i(!0),t(b(b({},r),{},{favorite:!r.favorite}),o)},children:[(0,n.jsx)("i",{className:!0===r.favorite?"fa fa-star orange":"fa fa-star-o orange"})," ","Favorite"," ",c?(0,n.jsx)("span",{className:"fas fa-circle-notch fa-spin"}):null]})})}function Z(){var e=(0,s.useContext)(p).speaker,r=e.first,t=e.last,a=e.bio,c=e.company,i=e.twitterHandle;e.favorite;return(0,n.jsxs)("div",{className:"speaker-info",children:[(0,n.jsx)("div",{className:"d-flex justify-content-between mb-3",children:(0,n.jsxs)("h3",{className:"text-truncate w-200",children:[r," ",t]})}),(0,n.jsx)(T,{}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"card-description",children:a.substr(0,70)}),(0,n.jsxs)("div",{className:"social d-flex flex-row mt-4",children:[(0,n.jsxs)("div",{className:"company",children:[(0,n.jsx)("h5",{children:"Company"}),(0,n.jsx)("h6",{children:c})]}),(0,n.jsxs)("div",{className:"twitter",children:[(0,n.jsx)("h5",{children:"Twitter"}),(0,n.jsx)("h6",{children:i})]})]})]})]})}var D=(0,s.memo)((function(e){var r=e.speaker,t=e.updateRecord,a=e.insertRecord,c=e.deleteRecord,i=e.showErrorCard,o=(0,s.useContext)(d).showSessions;return console.log("speaker: ".concat(r.id," ").concat(r.first," ").concat(r.last)),i?(0,n.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-4 col-sm-12 col-xs-12",children:(0,n.jsxs)("div",{className:"card card-height p-4 mt-4",children:[(0,n.jsx)("img",{src:"/images/speaker-99999.jpg"}),(0,n.jsx)("div",{children:(0,n.jsx)("b",{children:"Error Showing Speaker"})})]})}):(0,n.jsx)(v,{speaker:r,updateRecord:t,insertRecord:a,deleteRecord:c,children:(0,n.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-6 col-lg-4 col-sm-12 col-xs-12",children:[(0,n.jsxs)("div",{className:"card card-height p-4 mt-4",children:[(0,n.jsx)(Y,{}),(0,n.jsx)(Z,{})]}),!0===o?(0,n.jsx)(E,{}):null,(0,n.jsx)(m,{})]})})}),_);function _(e,r){return e.speaker.favorite===r.speaker.favorite}var P=function(e){return(0,n.jsx)(k,{errorUI:(0,n.jsx)(D,b(b({},e),{},{showErrorCard:!0})),children:(0,n.jsx)(D,b({},e))})},F=t(6457),Q=t(18),B=t(7757),V=t.n(B),A=t(2137),L=t(9669),I=t.n(L),U="loading",H="success",M="failure",q="api/speakers";var X=function(){var e=(0,s.useState)([]),r=e[0],t=e[1],n=(0,s.useState)(U),a=n[0],c=n[1],i=(0,s.useState)(""),o=i[0],l=i[1];return(0,s.useEffect)((function(){function e(){return(e=(0,A.Z)(V().mark((function e(){var r;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I().get(q);case 3:r=e.sent,c(H),t(r.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),c(M),l(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),{data:r,requestStatus:a,error:o,updateRecord:function(e,n){var s=(0,Q.Z)(r),a=r.map((function(r){return r.id===e.id?e:r}));function c(){return(c=(0,A.Z)(V().mark((function r(){return V().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t(a),r.next=4,I().put("".concat(q,"/").concat(e.id),e);case 4:n&&n(),r.next=12;break;case 7:r.prev=7,r.t0=r.catch(0),console.log("error thrown inside delayFunction",r.t0),n&&n(),t(s);case 12:case"end":return r.stop()}}),r,null,[[0,7]])})))).apply(this,arguments)}!function(){c.apply(this,arguments)}()},insertRecord:function(e,n){var s=(0,Q.Z)(r),a=[e].concat((0,Q.Z)(r));function c(){return(c=(0,A.Z)(V().mark((function r(){return V().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t(a),r.next=4,I().post("".concat(q,"/99999"),e);case 4:n&&n(),r.next=12;break;case 7:r.prev=7,r.t0=r.catch(0),console.log("error thrown inside delayFunction",r.t0),n&&n(),t(s);case 12:case"end":return r.stop()}}),r,null,[[0,7]])})))).apply(this,arguments)}!function(){c.apply(this,arguments)}()},deleteRecord:function(e,n){var s=(0,Q.Z)(r),a=r.filter((function(r){return r.id!=e.id}));function c(){return(c=(0,A.Z)(V().mark((function r(){return V().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t(a),r.next=4,I().delete("".concat(q,"/").concat(e.id),e);case 4:n&&n(),r.next=12;break;case 7:r.prev=7,r.t0=r.catch(0),console.log("error thrown inside delayFunction",r.t0),n&&n(),t(s);case 12:case"end":return r.stop()}}),r,null,[[0,7]])})))).apply(this,arguments)}!function(){c.apply(this,arguments)}()}}};var z=function(e){var r=e.eventYear,t=e.insertRecord;return(0,n.jsx)("a",{href:"#",className:"addSes",children:(0,n.jsx)("i",{onClick:function(e){e.preventDefault();var n=window.prompt("Enter first and last name:","").split(" ");t({id:"99999",first:n[0],last:n[1],bio:"Bio not entered yet",sessions:[{id:"88888",title:"New Session For ".concat(n[0]),room:{name:"Main Ball Room"},eventYear:r}]})},children:"+"})})};var G=function(){var e=X(),r=e.data,t=e.requestStatus,a=e.error,c=e.updateRecord,i=e.insertRecord,o=e.deleteRecord,l=(0,s.useContext)(d),u=l.searchQuery,h=l.eventYear;return t===M?(0,n.jsxs)("div",{className:"text-danger",children:["ERROR: ",(0,n.jsxs)("b",{children:["loading Speaker Data Failed ",a]})]}):(0,n.jsx)("div",{className:"container speakers-list",children:(0,n.jsxs)(F.Z,{type:"media",rows:15,className:"speakerslist-placeholder",ready:t===H,children:[(0,n.jsx)(z,{eventYear:h,insertRecord:i}),(0,n.jsx)("div",{className:"row",children:r.filter((function(e){return e.first.toLowerCase().includes(u)||e.last.toLowerCase().includes(u)})).filter((function(e){return e.sessions.find((function(e){return e.eventYear===h}))})).map((function(e){return(0,n.jsx)(P,{speaker:e,updateRecord:c,insertRecord:i,deleteRecord:o},e.id)}))})]})})};var J=function(){return(0,n.jsxs)(u,{startingShowSessions:!1,children:[(0,n.jsx)(h,{}),(0,n.jsx)(G,{})]})};function K(e){var r=e.children,t=(0,s.useContext)(c).theme;return(0,n.jsx)("div",{className:"light"===t?"container-fluid light":"container-fluid dark",children:r})}var W=function(e){var r=e.startingTheme,t=e.children;return(0,n.jsx)(i,{startingTheme:r,children:(0,n.jsx)(K,{children:t})})};var $=function(){return(0,n.jsx)(W,{startingTheme:"light",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(o,{}),(0,n.jsx)(J,{})]})})},ee=function(){return(0,n.jsx)($,{})}},8581:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9814)}])}},function(e){e.O(0,[774,95,888,179],(function(){return r=8581,e(e.s=r);var r}));var r=e.O();_N_E=r}]);